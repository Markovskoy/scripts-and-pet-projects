# Python скрипт для автоматизации SSL-сертификатов

## Описание

Скрипт для генерации запросов на SSL-сертификаты (файл .csr) на серверах app1, а затем применения подписанных сертификатов на app1 и других узлах app2.

## Возможности

* Проверка SSH-доступности узлов
* Обнаружение кластера app1/app2
* Генерация CSR-запроса и получение ZIP-архива
* Применение подписанного сертификата
* Копирование пары файлов (.csr, bundle.pem, private.key) на app2
* Проверка конфига nginx и релоад

## Структура

```
.
├── main.py                 # Основной файл скрипта
├── servers
│   └── servers.yaml       # Список из IP и портов серверов
├── CA/                    # Скачанные ZIP-архивы после генерации CSR
├── cer/                   # Подписанные .csr-файлы для apply
└── requirements.txt       # Список зависимостей
```

## Зависимости

```
pip install -r requirements.txt
```

## Использование

```bash
python main.py
```

Скрипт спросит логин/пароль для SSH, сам найдёт кластеры (app1/app2) и задаст вопрос:

```
1. Сгенерировать запрос (.csr)  
2. Применить подписанный сертификат
```

## Требования

* Python 3.6+
* SSH-доступ к серверам
* На каждом сервере подключен nginx и пути для ssl

## Стек

* `paramiko` — работа с SSH
* `PyYAML` — загрузка servers.yaml
* `tqdm` — прогресс по серверам
