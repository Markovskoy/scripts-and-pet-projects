# Command to Server — DevOps SCP/SSH Automation Tool

Простой и надёжный Python-инструмент для отправки файлов и выполнения команд на множестве серверов через SSH.

## Возможности

- Шифрование пароля с `cryptography`
- Отправка файлов и директорий (папки архивируются, распаковываются на сервере)
- Параллельное выполнение команд на всех серверах
- Проверка доступности SSH и прав `sudo`
- Выбор серверов из `.yaml` (в папке `servers/`)
- Совместимость с `scp`, `sshpass`, или авторизация по ключам
- Простой CLI-интерфейс + логирование в файл

---

## Структура проекта
```
command_to_server/
├── docker_server/        # Dockerfile + docker-compose (опционально для контейнеров)
├── modules/              # Вынесенные модули: auth, log, ssh, transfer, ui
├── servers/              # YAML-файлы с описанием серверов
├── to_remote/            # Файлы и папки для отправки
├── main.py               # Точка входа
├── requirements.txt      # Зависимости
└── ABOUT_comm_to_serv    # (README.md)
```

---

## Установка

```bash
pip install -r requirements.txt
```

> Требуются: `python3`, `sshpass` (по желанию), `scp`, `ssh`, `tar`

---

## Запуск

```bash
python main.py
```

---

## Использование

1. При первом запуске вводите имя пользователя и пароль (он зашифруется)
2. Выберите YAML-файл (список серверов в формате `ip port`)
3. Выберите действие:
   - `1` — Отправить файлы
   - `2` — Выполнить команду
4. Для отправки можно выбрать один или несколько файлов (включая папки)
5. Все действия логируются в файл `log(YYYY-MM-DD).log` + ошибки в `errors.log`

---

## Примеры YAML-файла
```yaml
servers:
  - 172.30.0.11 22
  - 172.30.0.12 22
```

> Мини-проект | Python + SSH | 2025